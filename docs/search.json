[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "EDAV final project",
    "section": "",
    "text": "1 Introduction\nClimate change is among the most pressing problems today. Environmental and societal effects like extreme weather events, increasing sea levels have been augmented due to increasing proportions of green house gases and eventually global warming. Majorly carbon dioxide (CO2) is the front runner for causing increase in the average temperature of the earth.\nThis project aims to study the variations and correlations in the emissions of various greenhouse gases like Carbon Dioxide (CO2), Nitrous Oxide (N2O), Methane (CH4) and fluorinated gases (F-gas) over the past 3 decades (1990 - 2020). Moreover, this study aims to observe the patterns emissions of these gases across different countries across different sectors.Some of the research questions this project aims to answer are as follows:\n\nWhat are the trends in the emission of greenhouse gases over time ?\nWhich gases contribute the most to the total emissions globally and regionally ?\nWhich sectors are responsible for contributing more amount of green house gases and how do these vary across countries?\nWhich countries are contributing to the maximum amount of green house gases ?\nHow has the emissions of different gases evolved across the years across different countries and across different sectors ?\n\nUnderstanding the contributions of different gases can guide the government and policymakers in setting regulations for certain sectors and designing new policies. Moreover, insights into sector specific emissions can help these policymakers make policies targeted at reducing the emission of greenhouse gases.\nIdentifying the emissions across various countries can allow policymakers and researchers to figure out high emission countries, promote equity in climate action, tailor country specific strategies at global summits and meets and many more. Monitoring the trends of emissions of these gases would also give insights about the rate of increase or rate of decrease of emissions over the years, which is in turn crucial for countries to track their progress towards their climate goals.\nTo conclude, this project has the potential to provide valuable insights into patterns of emissions of greenhouse gases making the way for data-driven policy making. This would allow the researchers and policymakers to design strategies to tackle climate change.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe dataset was imported in a csv format. The dataset tracks emission of greenhouse gases across different sectors and gases over time, allowing for a detailed analysis of historical trends. The dataset has the following categorical variales and contionous variables:\nCategorical Variables: Country (ISO, Country), data source, sector, gas type, and unit.\nContinuous Variables: Yearly emissions values (1990–2021).\nDimensions: 8,214 rows x 37 columns.\nFrequency of Updates: Likely annual.\nIssues: Missing values for earlier years and specific sectors. Moroever, the data is aggregated at varying levels (like global, country, sector, gases) which may filtering for specific analysis.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
<<<<<<< HEAD
    "text": "2.2 Missing value analysis\n\n\nCode\nemissions_data &lt;- read.csv(\"Datasets/historical_emissions.csv\", na = \"N/A\") # changed to relative path, which allow both of us(or others to load the data in the dataset folder)\nhead(emissions_data)\n\n\n    ISO Country   Data.source               Sector Gas   Unit    X2021    X2020\n1 WORLD   World Climate Watch Total including LUCF CO2 MtCO₂e 36693.41 34819.59\n2 WORLD   World Climate Watch Total excluding LUCF CO2 MtCO₂e 35540.43 33646.42\n3 WORLD   World Climate Watch               Energy CO2 MtCO₂e 33844.07 32008.01\n4 WORLD   World Climate Watch     Electricity/Heat CO2 MtCO₂e 16225.24 15134.18\n5   CHN   China Climate Watch Total excluding LUCF CO2 MtCO₂e 11497.03 10908.45\n6   CHN   China Climate Watch Total including LUCF CO2 MtCO₂e 10849.18 10260.60\n     X2019    X2018    X2017    X2016    X2015    X2014    X2013    X2012\n1 37046.27 36865.29 35877.65 35383.27 34686.31 34856.42 34469.49 33816.18\n2 35575.61 35569.42 34729.69 34200.37 34104.75 34291.01 34167.49 33500.00\n3 33952.39 34014.90 33220.25 32709.90 32653.54 32788.53 32712.89 32105.24\n4 15760.22 15822.69 15379.10 15045.35 15035.10 15296.77 15359.51 15080.13\n5 10773.37 10558.00 10089.17  9872.19  9857.49 10012.72  9979.11  9540.52\n6 10125.52  9910.09  9441.26  9224.28  9149.52  9304.75  9271.13  8832.55\n     X2011    X2010    X2009    X2008    X2007    X2006    X2005    X2004\n1 33429.63 33521.99 31953.27 32031.28 31825.92 31139.35 29908.23 29073.03\n2 33123.00 32140.15 30280.64 30662.50 30445.09 29332.47 28397.00 27355.21\n3 31764.12 30876.98 29098.54 29513.52 29311.06 28276.61 27428.72 26452.59\n4 14785.69 14175.86 13277.85 13483.65 13458.99 12892.40 12397.98 12016.86\n5  9282.53  8474.90  7719.05  7199.58  6993.16  6437.44  5824.59  5113.19\n6  8574.55  8144.86  7389.01  6869.53  6663.11  6107.39  5494.55  4783.13\n     X2003    X2002    X2001    X2000    X1999    X1998    X1997    X1996\n1 27602.50 26731.15 26010.78 25923.86 25227.59 25154.68 25546.76 24434.73\n2 26154.89 25011.01 24666.34 24302.33 23553.91 23384.67 23220.76 22798.57\n3 25291.26 24225.76 23909.01 23578.28 22861.24 22724.54 22558.37 22162.14\n4 11629.52 11013.43 10827.76 10574.63 10165.87 10105.10  9881.57  9607.99\n5  4424.38  3796.13  3529.06  3346.50  3153.64  3236.26  3134.08  3070.47\n6  4094.31  3466.06  3198.98  2999.31  2806.43  2889.03  2786.85  2723.24\n     X1995    X1994    X1993    X1992    X1991    X1990\n1 24086.41 23457.62 23311.16 23167.98 23217.45 23060.38\n2 22317.43 21694.25 21547.45 21404.71 21454.18 21297.11\n3 21693.95 21104.75 20995.22 20875.35 20945.86 20802.72\n4  9252.30  9062.96  8964.05  8916.24  8757.76  8616.85\n5  3088.60  2767.65  2645.40  2418.18  2302.19  2173.36\n6  2741.36  2420.36  2298.12  2070.89  1954.90  1826.08\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n✔ readr     2.1.5     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\n#  missing values per column\nmissing_value_counts &lt;- colSums(is.na(emissions_data))\nmissing_df &lt;- data.frame(Variable = names(missing_value_counts), Missing = missing_value_counts)\n\n# Bar plot \nggplot(missing_df, aes(x = reorder(Variable, Missing), y = Missing)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Count of Missing Values by Variable\",\n    x = \"Year\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal(base_size = 16) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n\n\nCode\n#  missing values per column\nmissing_value_counts &lt;- colSums(is.na(emissions_data))\nmissing_df &lt;- data.frame(Variable = names(missing_value_counts), Missing = missing_value_counts)\n\n# Bar plot \nggplot(missing_df, aes(x = Variable, y = Missing)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Count of Missing Values by Variable\",\n    x = \"Year\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal(base_size = 16) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nCode\n# I am wondering should we order the column in time? I think it might be better to find a pattern or something. Also, should we exclude the columns with no missing value?",
=======
    "text": "2.2 Missing value analysis\n\n\nCode\nemissions_data &lt;- read.csv(\"Datasets/historical_emissions.csv\", na = \"N/A\") # changed to relative path, which allow both of us(or others to load the data in the dataset folder)\nhead(emissions_data)\n\n\n    ISO Country   Data.source               Sector Gas   Unit    X2021    X2020\n1 WORLD   World Climate Watch Total including LUCF CO2 MtCO₂e 36693.41 34819.59\n2 WORLD   World Climate Watch Total excluding LUCF CO2 MtCO₂e 35540.43 33646.42\n3 WORLD   World Climate Watch               Energy CO2 MtCO₂e 33844.07 32008.01\n4 WORLD   World Climate Watch     Electricity/Heat CO2 MtCO₂e 16225.24 15134.18\n5   CHN   China Climate Watch Total excluding LUCF CO2 MtCO₂e 11497.03 10908.45\n6   CHN   China Climate Watch Total including LUCF CO2 MtCO₂e 10849.18 10260.60\n     X2019    X2018    X2017    X2016    X2015    X2014    X2013    X2012\n1 37046.27 36865.29 35877.65 35383.27 34686.31 34856.42 34469.49 33816.18\n2 35575.61 35569.42 34729.69 34200.37 34104.75 34291.01 34167.49 33500.00\n3 33952.39 34014.90 33220.25 32709.90 32653.54 32788.53 32712.89 32105.24\n4 15760.22 15822.69 15379.10 15045.35 15035.10 15296.77 15359.51 15080.13\n5 10773.37 10558.00 10089.17  9872.19  9857.49 10012.72  9979.11  9540.52\n6 10125.52  9910.09  9441.26  9224.28  9149.52  9304.75  9271.13  8832.55\n     X2011    X2010    X2009    X2008    X2007    X2006    X2005    X2004\n1 33429.63 33521.99 31953.27 32031.28 31825.92 31139.35 29908.23 29073.03\n2 33123.00 32140.15 30280.64 30662.50 30445.09 29332.47 28397.00 27355.21\n3 31764.12 30876.98 29098.54 29513.52 29311.06 28276.61 27428.72 26452.59\n4 14785.69 14175.86 13277.85 13483.65 13458.99 12892.40 12397.98 12016.86\n5  9282.53  8474.90  7719.05  7199.58  6993.16  6437.44  5824.59  5113.19\n6  8574.55  8144.86  7389.01  6869.53  6663.11  6107.39  5494.55  4783.13\n     X2003    X2002    X2001    X2000    X1999    X1998    X1997    X1996\n1 27602.50 26731.15 26010.78 25923.86 25227.59 25154.68 25546.76 24434.73\n2 26154.89 25011.01 24666.34 24302.33 23553.91 23384.67 23220.76 22798.57\n3 25291.26 24225.76 23909.01 23578.28 22861.24 22724.54 22558.37 22162.14\n4 11629.52 11013.43 10827.76 10574.63 10165.87 10105.10  9881.57  9607.99\n5  4424.38  3796.13  3529.06  3346.50  3153.64  3236.26  3134.08  3070.47\n6  4094.31  3466.06  3198.98  2999.31  2806.43  2889.03  2786.85  2723.24\n     X1995    X1994    X1993    X1992    X1991    X1990\n1 24086.41 23457.62 23311.16 23167.98 23217.45 23060.38\n2 22317.43 21694.25 21547.45 21404.71 21454.18 21297.11\n3 21693.95 21104.75 20995.22 20875.35 20945.86 20802.72\n4  9252.30  9062.96  8964.05  8916.24  8757.76  8616.85\n5  3088.60  2767.65  2645.40  2418.18  2302.19  2173.36\n6  2741.36  2420.36  2298.12  2070.89  1954.90  1826.08\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n✔ readr     2.1.5     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\n#  missing values per column\nmissing_value_counts &lt;- colSums(is.na(emissions_data))\nmissing_df &lt;- data.frame(Variable = names(missing_value_counts), Missing = missing_value_counts)\n\n# Bar plot \nggplot(missing_df, aes(x = reorder(Variable, Missing), y = Missing)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Count of Missing Values by Variable\",\n    x = \"Year\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal(base_size = 16) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n\n\nCode\n#  missing values per column\nmissing_value_counts &lt;- colSums(is.na(emissions_data))\nmissing_df &lt;- data.frame(Variable = names(missing_value_counts), Missing = missing_value_counts)\n\n# Bar plot \nggplot(missing_df, aes(x = Variable, y = Missing)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Count of Missing Values by Variable\",\n    x = \"Year\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal(base_size = 16) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))",
>>>>>>> upstream/main
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
<<<<<<< HEAD
    "text": "3.1 Changes made: change Total including LUCF Total excluding LUCF to LUCF and Total excluding LUCF, wondering if that makes sense. Should we apply this to the whole dataset? Also, should we change the color scale, to make each sector more distinct, as some colors stay together has small difference. Besides, there seem to be negative values(below 0), wondering why this is happenning.\nCode\n# Calculate LUCF emissions\nsector_data &lt;- subset(data_long, Year == 2021 & Country %in% top_countries & Gas == \"CO2\")\n\n# Create a new LUCF column by calculating the difference\nsector_data_lucf &lt;- sector_data |&gt;\n  filter(Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\")) |&gt;\n  spread(Sector, Emissions) |&gt;\n  mutate(LUCF = `Total including LUCF` - `Total excluding LUCF`) |&gt;\n  gather(key = \"Sector\", value = \"Emissions\", c(\"LUCF\", \"Total excluding LUCF\"))\n\n# Combine with other sectors\nsector_data_combined &lt;- sector_data |&gt;\n  filter(!Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\")) |&gt;\n  bind_rows(sector_data_lucf)\n\n# Plot the updated data\nggplot(sector_data_combined, aes(x = Country, y = Emissions, fill = Sector)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sectoral Contributions to Emissions (2021)\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\") +\n  scale_color_brewer(palette = \"PuBu\")\nCode\nfacet_data &lt;- subset(data_long, Country %in% c(\"China\", \"United States\", \"India\", \"European Union (27)\") & Sector == \"Total including LUCF\")\n\nggplot(facet_data, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  facet_wrap(~ Country, scales = \"free_y\") +\n  labs(title = \"Regional Emissions Trends by Gas\",\n       x = \"Year\",\n       y = \"Emissions (MtCO₂e)\") +\n  theme_minimal()\nCode\nfacet_data &lt;- subset(\n  data_long,\n  Country %in% c(\n    \"China\", \"United States\", \"India\", \"European Union (27)\",\n    \"Russia\", \"Japan\", \"Brazil\", \"Indonesia\", \"Iran\", \"Germany\"  # Top 10 emitters\n  ) &\n    Sector %in% c(\n      \"Energy\", \"Agriculture\", \"Transport\",\n      \"Electricity/Heat\", \"Waste\", \"Industrial Processes\"\n    ) &  # Key sectors\n    Gas %in% c(\"CO2\", \"CH4\", \"N2O\", \"F-Gas\")  # Major greenhouse gases\n)\nCode\ngas_sector_data &lt;- subset(\n  data_long,\n  Country == \"World\" & Sector %in% c(\"Energy\", \"Agriculture\", \"Transport\", \"Electricity/Heat\") & Gas %in% c(\"CO2\", \"CH4\", \"N2O\", \"F-Gas\")\n)\n\nggplot(gas_sector_data, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  facet_wrap(~ Sector, scales = \"free_y\") +\n  labs(\n    title = \"Gas Contributions by Sector Over Time (1990–2021)\",\n    x = \"Year\",\n    y = \"Emissions (MtCO₂e)\",\n    color = \"Gas\"\n  ) +\n  theme_minimal() +\n  theme(\n    strip.text = element_text(size = 10, face = \"bold\"),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.text = element_text(size = 8),\n    legend.position = \"bottom\"\n  )",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "4.1 Instructions\nThis interactive graph allows you to explore CO2 emissions data in two key ways:",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
  },
  {
    "objectID": "d3graph.html#instructions",
    "href": "d3graph.html#instructions",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Hover over the data points\n\nMove your mouse over any data point on the chart to view detailed information. This includes the country, the year, the percentage contribution of that country’s emissions to the global total, and the total emissions in metric tons for that year.\n\nThis feature helps you examine trends and compare emission data for specific countries over time.\n\nSelect multiple countries and analyze their combined contribution\n\nUse the dropdown menu to select one or more countries.\n\nAfter selecting countries, click on any year on the x-axis to see the total percentage contribution of the selected countries’ emissions to the global total for that year.\n\nThe combined percentage will be displayed dynamically, helping you understand the relative impact of multiple countries in a given year.\n\nReset the selection\n\nClick the “Reset” button to clear all selected countries and return to the default view.\n\n\n\nNote: The legend in the top-right corner of the graph identifies the color corresponding to each country for easy reference.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
=======
    "text": "Code\nlibrary(readr)\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ purrr     1.0.2\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n\n\nCode\ndata &lt;- read.csv(\"Datasets/historical_emissions.csv\", na.strings = c(\"NA\", \"N/A\"))\n\n\ndim(data)\n\n\n[1] 8214   38\n\n\nCode\n#head(data)\n\n\nWe begin our analysis by cleaning the data first. This includes removing all the rows with missing values and dropping Data.source column. Further, we also prepare a long format of the data well before, as this would be used in few graphs coming forward.\n\n\nCode\ncleaned_data &lt;- na.omit(data)\ncleaned_data &lt;- cleaned_data[,!names(cleaned_data) %in% c(\"Data.source\")]\ndim(cleaned_data)\n\n\n[1] 7982   37\n\n\nCode\n#str(cleaned_data)\ndata_long &lt;- cleaned_data |&gt;\n  pivot_longer(\n    cols = starts_with(\"X\"),    \n    names_to = \"Year\",          \n    values_to = \"Emissions\"     \n  ) |&gt;\n  mutate(Year = as.numeric(sub(\"X\", \"\", Year)))\ndim(data_long)\n\n\n[1] 255424      7\n\n\n1.We first begin by creating a line plot to observe the emission trends of different gases over the years.\n\n\nCode\nglobal_emissions_gases &lt;- subset(data_long, Country == \"World\" & Sector == \"Total including LUCF\")\nggplot(global_emissions_gases, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  geom_point(size = 2)+\n  scale_x_continuous(breaks = seq(1990, 2021, by = 1)) +\n  labs(title = \"Global Emissions Over Time by Gas\",\n       x = \"Year\",\n       y = \"Emissions (MtCO₂e)\",\n       color = \"Gas\") +\n  theme(legend.position = \"bottom\")\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n\n\nAs we see observe that only CO2 is showing a significant trend, we will apply a log scale to see if there exist any significant trends in the emission of other gases\n\n\nCode\nggplot(global_emissions_gases, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  geom_point(size = 2)+\n  scale_x_continuous(breaks = seq(1990, 2021, by = 1)) +\n  scale_y_continuous(trans = 'log10', labels = scales::comma) +\n  labs(title = \"Global Emissions Over Time by Gas\",\n       x = \"Year\",\n       y = \"Emissions (MtCO₂e)(on log scale)\",\n       color = \"Gas\") +\n  theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n\n\nAfter applying the log scale, we discover another piece of information. Along with Co2, F-gas emissions have also increased significantly recently compared to the earlier years.\n\nNext, we attempt to get an insight into the countries that are responsible for most amount of emissions. We filter our selection by top 10 countries.\n\n\n\nCode\ndata_2021 &lt;- subset(data_long, Year == 2021 & Gas == \"CO2\" & Sector == \"Total including LUCF\")\ntop_10 &lt;- data_2021[order(-data_2021$Emissions), ][2:11, ]\n\nggplot(top_10, aes(x = reorder(Country, Emissions), y = Emissions)) +\n  geom_bar(stat = \"identity\", fill = \"darkgreen\") +\n  scale_y_continuous(breaks = seq(0, max(top_10$Emissions), by = 1000), labels = scales::comma) +\n  labs(title = \"Top 10 CO2 Emitting Countries in 2021\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nCode\ndata_2021 &lt;- subset(data_long, Year == 2021 & Gas == \"CH4\" & Sector == \"Total including LUCF\")\ntop_10 &lt;- data_2021[order(-data_2021$Emissions), ][2:11, ]\n\nggplot(top_10, aes(x = reorder(Country, Emissions), y = Emissions)) +\n  geom_bar(stat = \"identity\", fill = \"pink\") +\n  scale_y_continuous(breaks = seq(0, max(top_10$Emissions), by = 1000), labels = scales::comma) +\n  labs(title = \"Top 10 CH4 Emitting Countries in 2021\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nCode\ndata_2021 &lt;- subset(data_long, Year == 2021 & Gas == \"F-Gas\" & Sector == \"Total including LUCF\")\ntop_10 &lt;- data_2021[order(-data_2021$Emissions), ][2:11, ]\n\nggplot(top_10, aes(x = reorder(Country, Emissions), y = Emissions)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  scale_y_continuous(breaks = seq(0, max(top_10$Emissions), by = 1000), labels = scales::comma) +\n  labs(title = \"Top 10 F-Gas Emitting Countries in 2021\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nCode\ndata_2021 &lt;- subset(data_long, Year == 2021 & Gas == \"N2O\" & Sector == \"Total including LUCF\")\ntop_10 &lt;- data_2021[order(-data_2021$Emissions), ][2:11, ]\n\nggplot(top_10, aes(x = reorder(Country, Emissions), y = Emissions)) +\n  geom_bar(stat = \"identity\", fill = \"purple\") +\n  scale_y_continuous(breaks = seq(0, max(top_10$Emissions), by = 1000), labels = scales::comma) +\n  labs(title = \"Top 10 N2O Emitting Countries in 2021\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  coord_flip()\n\n\n\n\n\n\n\n\n\nChina and United States dominate the list of top emitters with India and Russia also making significant contributions.\n3.Next we deep diver into the sector wise contributions of emissions among the top 10 countries emitting CO2\n\n\nCode\n# Calculate LUCF emissions\ntop_countries &lt;- top_10$Country\nsector_data &lt;- subset(data_long, Year == 2021 & Country %in% top_countries & Gas == \"CO2\")\n\n# Create a new LUCF column by calculating the difference\nsector_data_lucf &lt;- sector_data |&gt;\n  filter(Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\")) |&gt;\n  spread(Sector, Emissions) |&gt;\n  mutate(LUCF = `Total including LUCF` - `Total excluding LUCF`) |&gt;\n  gather(key = \"Sector\", value = \"Emissions\", c(\"LUCF\", \"Total excluding LUCF\"))\n\n# Combine with other sectors\nsector_data_combined &lt;- sector_data |&gt;\n  filter(!Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\")) |&gt;\n  bind_rows(sector_data_lucf)\n\n# Plot the updated data\nggplot(sector_data_combined, aes(x = Country, y = Emissions, fill = Sector)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = c(\n    \"Building\" = \"#E69F00\",\n    \"Bunker Fuels\" = \"#56B4E9\",\n    \"Electricity/Heat\" = \"#009E73\",\n    \"Energy\" = \"#F0E442\",\n    \"Fugitive Emissions\" = \"#0072B2\",\n    \"Industrial Processes\" = \"#D55E00\",\n    \"Land-Use Change and Forestry\" = \"#CC79A7\",\n    \"Manufacturing/Construction\" = \"#999999\",\n    \"Other Fuel Combustion\" = \"#B2DF8A\",\n    \"Total excluding LUCF\" = \"#33A02C\",\n    \"Total including LUCF\" = \"#FB9A99\",\n    \"Transportation\" = \"#1B9E77\"\n  )) +\n  labs(title = \"Sectoral Contributions to Emissions (2021)\",\n       x = \"Country\",\n       y = \"Emissions (MtCO₂e)\") +\n  theme(legend.position = \"right\")\n\n\n\n\n\n\n\n\n\nWe can infer that for most of the countries in 2021, sectors including Energy and Electricity and heat are the top sectors that emit Co2. Another, important observation to note is the bars below 0, that is Land Use Change and Forestry denotes that this sector acts as sink of Co2 rather than source and thus, the negative value.\n\nNext we examine the trends of emissions by specific regions.\n\n\n\nCode\nfacet_data &lt;- subset(data_long, Country %in% c(\"China\", \"United States\", \"India\", \"European Union (27)\",\"Russia\") & Sector == \"Total including LUCF\")\n\nggplot(facet_data, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  facet_wrap(~ Country, scales = \"free_y\") +\n  labs(title = \"Regional Emissions Trends by Gas\",\n       x = \"Year\",\n       y = \"Emissions (MtCO₂e)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nWe observe that China , United States and India are the largest emitters of Co2 in recent years. Historically, United States , China and European Union have been the highest emitters of CO2. Moreover, EU and United States have shown some decline in emissions which is a good indication. F-Gas and N2O are relatively small for all the regions.\n\n\nCode\nfacet_data &lt;- subset(\n  data_long,\n  Country %in% c(\n    \"China\", \"United States\", \"India\", \"European Union (27)\",\n    \"Russia\", \"Japan\", \"Brazil\", \"Indonesia\", \"Iran\", \"Germany\" \n  ) &\n    Sector %in% c(\n      \"Energy\", \"Agriculture\", \"Transport\",\n      \"Electricity/Heat\", \"Waste\", \"Industrial Processes\"\n    ) &  \n    Gas %in% c(\"CO2\", \"CH4\", \"N2O\", \"F-Gas\")  \n)\n\n\n\nFor this plot we analyze the trend in the emissions of the gases in the main sectors over the years.\n\n\n\nCode\ngas_sector_data &lt;- subset(\n  data_long,\n  Country == \"World\" & Sector %in% c(\"Energy\", \"Agriculture\", \"Electricity/Heat\") & Gas %in% c(\"CO2\", \"CH4\", \"N2O\", \"F-Gas\")\n)\n\nggplot(gas_sector_data, aes(x = Year, y = Emissions, color = Gas)) +\n  geom_line(size = 1) +\n  facet_wrap(~ Sector, scales = \"free_y\") +\n  labs(\n    title = \"Gas Contributions by Sector Over Time (1990–2021)\",\n    x = \"Year\",\n    y = \"Emissions (MtCO₂e)\",\n    color = \"Gas\"\n  ) +\n  theme_minimal() +\n  theme(\n    strip.text = element_text(size = 12, face = \"bold\"),\n    plot.title = element_text(size = 15, face = \"bold\"),\n    axis.text = element_text(size = 9),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nAn interesting information that we get from this plot is that the agriculture sector is mainly responsible for emitting CH4 and and N2O. Whereas, the major contributors of CO2 have been Electricity/Heat and Energy Sectors. Moreover, over the years, the emissions of these gases have increased. Understanding these trends in these sectors can help policy makers develop effective measures to control emissions and adopt sustainable practices.\n\nIn this plot we analyze the trends of emission of different gases in different countries in different sectors.\n\n\n\nCode\ngas_focused &lt;- subset(\n  data_long,\n  Country %in% c(\"China\", \"United States\", \"India\", \"European Union (27)\", \"Russia\") &\n    Sector %in% c(\"Energy\", \"Agriculture\", \"Transport\", \"Electricity/Heat\") &\n    Gas %in% c(\"CO2\", \"CH4\", \"N2O\")\n)\n\n\nggplot(gas_focused, aes(x = Year, y = Emissions, color = Country)) +\n  geom_line(size = 1) +\n  facet_grid(Sector ~ Gas, scales = \"free_y\") +\n  labs(\n    title = \"Sectoral Emissions by Gas and Country (1990–2021)\",\n    x = \"Year\",\n    y = \"Emissions (MtCO₂e)\",\n    color = \"Country\"\n  ) +\n  theme_minimal() +\n  theme(\n    strip.text = element_text(size = 10, face = \"bold\"),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\n\nChina and United States are the primary emitters of CO2 mainly in the Energy and Electricity/ Heat Sectors. Further, The European Union suggests a stable trend in the emission of CO2, with sector agriculture showing a downward trend in the emission of CH4 and N2O. Russia also displays a similar trend India leads the emission of CH4 particularly in the agriculture sector. This can be attributed to the large number of agricultural activities carried out in India. United States also displays a stable trend in agriculture sector and slight downward trend in the Electricity and Energy sector.\n\nSectoral Emissions across countries in 2021 or CO2\n\n\n\nCode\nsector_country_data &lt;- subset(\n  data_long,\n  Year == 2021 &\n    Country %in% c(\n      \"China\", \"United States\", \"India\", \"European Union (27)\",\n      \"Russia\", \"Japan\", \"Brazil\", \"Germany\"\n    ) &\n    Gas == \"CO2\" &\n    !Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\")  # Exclude these sectors\n)\n\nggplot(sector_country_data, aes(x = Country, y = Sector, fill = Emissions)) +\n  geom_tile() +\n  scale_fill_gradient(low = \"lightblue\", high = \"darkblue\") +\n  labs(\n    title = \"Sectoral Emissions Across Countries (2021)\",\n    x = \"Country\",\n    y = \"Sector\",\n    fill = \"Emissions (MtCO₂e)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nThis plot informs us about the emissions of each country with respect to a particular sector. This also tells us how active that country would be in that sector. As we observed from the previous graphs, Energy and Electricity/Heat are the top emitters. Couple of countries have high amount of emission in the transportation and manufacturing/construction.\n\nHere we analyze the sectoral emissions by gas which a plot between two categorical varibles and thus we use a stacked bar chart.\n\n\n\nCode\n# Filter \nsector_gas_data &lt;- subset(\n  data_long,\n  Year == 2021 &\n    !Sector %in% c(\"Total including LUCF\", \"Total excluding LUCF\") &\n    Gas %in% c(\"CO2\", \"CH4\", \"N2O\", \"F-Gas\")\n)\n\n\n\n\nCode\nsector_gas_summary &lt;- sector_gas_data |&gt;\n  group_by(Sector, Gas) |&gt;\n  summarise(Total_Emissions = sum(Emissions, na.rm = TRUE)) |&gt;\n  ungroup()\n\n\n`summarise()` has grouped output by 'Sector'. You can override using the\n`.groups` argument.\n\n\nCode\nggplot(sector_gas_summary, aes(x = reorder(Sector, -Total_Emissions), y = Total_Emissions, fill = Gas)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Sectoral Emissions by Gas (2021)\",\n    x = \"Sector\",\n    y = \"Total Emissions (MtCO₂e)\",\n    fill = \"Gas\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nHere we observe that Energy, Electricity/Heat, Transportation, Manufacturing/Construction are the major contributors of CO2 emissions. Sectors like Agriculture, Fugitive emissions and waste contribute to the emissions of CH4. Further Agriculture and Industrial sectors are responsible for the emissions of N2O gas. And Industrial processes are the major contributors of F-Gas.\n\nIn this plot we finally analyze the percentage contribution of the top 5 CO2 emitting countries over the years.\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Filter CO2 emissions data\nco2_data &lt;- data_long |&gt;\n  filter(Gas == \"CO2\", Sector == \"Total including LUCF\")\n\n# Calculate global total emissions for each year\nglobal_emissions &lt;- co2_data |&gt;\n  group_by(Year) |&gt;\n  summarise(Total_Emissions = sum(Emissions, na.rm = TRUE))\n\n# Calculate cumulative emissions per country and identify top 5 emitters\ntop_5_countries &lt;- co2_data |&gt;\n  group_by(Country) |&gt;\n  summarise(Cumulative_Emissions = sum(Emissions, na.rm = TRUE)) |&gt;\n  arrange(desc(Cumulative_Emissions)) |&gt;\n  slice(2:6) |&gt;\n  pull(Country)\n\n# Filter for top 5 countries and calculate percentage contribution\ntop_5_contributions &lt;- co2_data |&gt;\n  filter(Country %in% top_5_countries) |&gt;\n  left_join(global_emissions, by = \"Year\") |&gt;\n  mutate(Percentage_Contribution = Emissions / Total_Emissions * 100)\n\n# Plot the line chart\nggplot(top_5_contributions, aes(x = Year, y = Percentage_Contribution, color = Country)) +\n  geom_line(size = 1) +\n  labs(\n    title = \"Contribution of Top 5 Countries to CO2 Emissions (1990–2021)\",\n    x = \"Year\",\n    y = \"Percentage Contribution\",\n    color = \"Country\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 10),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nWe observe that the percentage contribution of China has increased significantly over the years. The same trend is observed for India but the rise is gradual and is not as steep as China. Whereas, for the countries in European Union, United States and Brazil, the contribution of CO2 has fallen over the years.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
>>>>>>> upstream/main
  }
]